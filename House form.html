<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lone star Moving & Cleaning Services</title>
    <link rel="stylesheet" href="css/moving form.css">
    <link rel="shortcut icon" href="imagenes/favicon4.png" type="image/x-icon">
    <link rel="stylesheet" href="css/bootstrap.min.css">
 <link rel="stylesheet" href="css/bootstrap4-toggle.min.css">
 <script src="js/jquery.min.js" ></script>
 <script src="js/popper.min.js" ></script>
 <script src="js/bootstrap.min.js" ></script>
 <script src="js/bootstrap4-toggle.min.js"></script>
</head>
<body id="body" style="background-color:#dcd5cc;">
      <!-- Header-->
      <header id="Barra">
        <div class="logo-container d-flex justify-content-between align-items-center w-100">
            <div class="d-flex flex-column flex-sm-row align-items-center">
                <a href="index.html">
                    <img class="imagen" src="imagenes/Logo principal3.png" alt="UsedCars logo" title="Usedcars - Texas Car Dealership">
                </a>
                <h1 id="Titulo" class="mb-0"><b>Moving Made Simple</b></h1>
            </div>
            
            <div class="d-flex align-items-center"> 
                <nav>
                    <ul class="d-flex m-0">
                        <li><a href="index.html"><b>Home</b></a></li>
                        <li><a href="#contact"><b>Contact Us</b></a></li>
                        <li><a href="Apartment form.html">Apartment</a></li>
                        <li><a href="House form.html">House</a></li>
                        <li><a href="Cleaning form.html">Cleaning</a></li>
                        <li><a href="https://usedcarsintexas.com/">Want to buy a car?</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
    <form action="https://formspree.io/f/xrbgvbde" method="POST" onsubmit="return validarenvio()">
        <h2>Moving Service Details</h2>

        <label for="houseType">House Type</label>
        <select id="houseType" name="houseType" required>
            <option value="" disabled selected>Select an option</option>
            <option value="1-floor">1 Floor</option>
            <option value="2-floors">2 Floors</option>
            <option value="3-floors">3 Floors or more</option>
        </select>

        <label for="heavyItems">Does the house have heavy items?</label>
        <select id="heavyItems" name="heavyItems" required>
            <option value="" disabled selected>Select an option</option>
            <option value="yes">Yes</option>
            <option value="no">No</option>
        </select>
        <div id="heavyItemMessage" style="display: none; color: red;">
            <p>We can proceed with the move without the heavy items.</p>
        </div>

        <h2>Personal Details</h2>

        <label for="name">Full Name</label>
        <input type="text" id="name" name="name" placeholder="Your full name">
        <span id="sname" class="errorform"></span>
        <label for="phone">Phone Number</label>
        <input type="text" id="phone" name="phone" placeholder="Your phone number">
        <span id="sphone" class="errorform"></span>

        <label for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="Your email address">
        <span id="semail" class="errorform"></span>
        
        <label for="currentAddress">Current Address</label>
        <input type="text" id="currentAddress" name="currentAddress" placeholder="Address to move from" required>

        <label for="newAddress">New Address</label>
        <input type="text" id="newAddress" name="newAddress" placeholder="Address to move to" required>

        <h2>Additional Options</h2>

        <label for="packUnpack">Do you need packing or unpacking services?</label>
        <select id="packUnpack" name="packUnpack">
            <option value="" disabled selected>Select an option</option>
            <option value="pack">Packing</option>
            <option value="unpack">Unpacking</option>
            <option value="both">Both</option>
            <option value="none">None</option>
        </select>

        <input type="submit" class="text-center" value="Submit">
    </form>

    <script>
        // Show message if heavy items are present
        $("#heavyItems").on("change", function() {
            if ($(this).val() === "yes") {
                $("#heavyItemMessage").show();
            } else {
                $("#heavyItemMessage").hide();
            }
        });

        // Validation functions
        $("#phone").on("keypress", function (e) {
    validarkeypress(/^[0-9-\b]*$/, e);
});

$("#phone").on("keyup", function () {
    validarkeyup(/^[0-9]{10,11}$/, $(this), $("#sphone"), "The format must be between 10 to 11 digits");
});

$("#email").on("keypress", function (e) {
    validarkeypress(/^[A-Za-z@_.0-9\b\u00f1\u00d1\u00E0-\u00FC-]*$/, e);
});

$("#email").on("keyup", function () {
    validarkeyup(/^[A-Za-z_0-9\u00f1\u00d1\u00E0-\u00FC-]{3,20}[@]{1}[A-Za-z0-9]{3,8}[.]{1}[A-Za-z]{3}$/,
        $(this), $("#semail"), "The format must be like name@server.com");
});

$("#name").on("keypress", function (e) {
    validarkeypress(/^[A-Za-z\b\s\u00f1\u00d1\u00E0-\u00FC]*$/, e);
});

$("#name").on("keyup", function () {
    validarkeyup(/^[A-Za-z\b\s\u00f1\u00d1\u00E0-\u00FC]{3,30}$/, $(this), $("#sname"), "Only letters between 3 and 30 characters");
});

// Función de validación del envío
function validarenvio() {
    if (validarkeyup(/^[0-9]{10,11}$/, $("#phone"), $("#sphone"), "The format must be between 10 to 11 digits") == 0) {
        alert("Error in phone");
        return false;
    }
    if (validarkeyup(/^[A-Za-z_0-9\u00f1\u00d1\u00E0-\u00FC-]{3,20}[@]{1}[A-Za-z0-9]{3,8}[.]{1}[A-Za-z]{3}$/, 
        $("#email"), $("#semail"), "The format must be like name@server.com") == 0) {
            alert("Error in email");
        return false;
    }
    if (validarkeyup(/^[A-Za-z\b\s\u00f1\u00d1\u00E0-\u00FC]{3,30}$/, $("#name"), $("#sname"), "Only letters between 3 and 30 characters") == 0) {
        alert("Error in name");
        return false;
    }
    return true;
}

// Función para validar la entrada mientras se escribe
function validarkeypress(er, e) {
    key = e.keyCode;
    tecla = String.fromCharCode(key);
    a = er.test(tecla);
    if (!a) {
        e.preventDefault();
    }
}

// Función para validar la entrada después de escribir
function validarkeyup(er, etiqueta, etiquetamensaje, mensaje) {
    a = er.test(etiqueta.val());
    if (a) {
        etiquetamensaje.text("");
        return 1;
    } else {
        etiquetamensaje.text(mensaje);
        return 0;
    }
}
    </script>
</body>
</html>